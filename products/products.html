<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>المنتجات - متجر إلكتروني</title>
    <link rel="stylesheet" href="products.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <nav class="navbar">
                <div class="logo">
                    <!-- <h2><i class="fas fa-store"></i> متجري</h2> -->
                </div>
                <ul class="nav-links">
                    <li><a href="/index.html">الرئيسية</a></li>
                    <li><a href="products.html" class="active">المنتجات</a></li>
                    <li><a href="/cart/cart.html">السلة <span id="cart-count" class="cart-count">0</span></a></li>
                    <li><a href="/orders/orders.html">الطلبات</a></li>
                    <li><a href="/auth/auth.html" id="auth-link">تسجيل الدخول</a></li>
                </ul>
                <div class="hamburger">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <!-- Page Title -->
            <div class="page-header">
                <h1>جميع المنتجات</h1>
                <p>اكتشف مجموعتنا الواسعة من المنتجات عالية الجودة</p>
            </div>

            <!-- Filters -->
            <div class="filters-section">
                <div class="filters-container">
                    <div class="filter-group">
                        <label for="category-filter">الفئة:</label>
                        <select id="category-filter">
                            <option value="">جميع الفئات</option>
                            <option value="electronics">إلكترونيات</option>
                            <option value="clothing">ملابس</option>
                            <option value="books">كتب</option>
                            <option value="home">منزل وحديقة</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label for="price-filter">السعر:</label>
                        <select id="price-filter">
                            <option value="">جميع الأسعار</option>
                            <option value="0-50">أقل من 50 جنيه</option>
                            <option value="50-100">50 - 100 جنيه</option>
                            <option value="100-200">100 - 200 جنيه</option>
                            <option value="200+">أكثر من 200 جنيه</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label for="sort-filter">ترتيب حسب:</label>
                        <select id="sort-filter">
                            <option value="name">الاسم</option>
                            <option value="price-low">السعر: من الأقل للأعلى</option>
                            <option value="price-high">السعر: من الأعلى للأقل</option>
                            <option value="newest">الأحدث</option>
                        </select>
                    </div>
                    <div class="search-group">
                        <input type="text" id="search-input" placeholder="البحث عن منتج...">
                        <button id="search-btn"><i class="fas fa-search"></i></button>
                    </div>
                </div>
            </div>

            Products Grid
            <div class="products-section">
                <!-- هنا الحاوية الصحيحة للمنتجات -->
                <div id="productsContainer" class="products-grid">
                    <!-- Products will be loaded here by JavaScript -->
                </div>
                
                <!-- Loading Spinner -->
                <div id="loading-spinner" class="loading-spinner">
                    <i class="fas fa-spinner fa-spin"></i>
                    <p>جاري تحميل المنتجات...</p>
                </div>

                <!-- No Products Message -->
                <div id="no-products" class="no-products" style="display: none;">
                    <i class="fas fa-search"></i>
                    <h3>لم يتم العثور على منتجات</h3>
                    <p>حاول تغيير معايير البحث أو الفلاتر</p>
                </div>
            </div>

            <!-- Pagination -->
            <div class="pagination-section">
                <div id="pagination" class="pagination">
                    <!-- Pagination will be generated by JavaScript -->
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>متجري</h3>
                    <p>متجرك الإلكتروني المفضل للتسوق الآمن والموثوق</p>
                </div>
                <div class="footer-section">
                    <h4>روابط سريعة</h4>
                    <ul>
                        <li><a href="/index.html">الرئيسية</a></li>
                        <li><a href="products.html">المنتجات</a></li>
                        <li><a href="/cart/cart.html">السلة</a></li>
                        <li><a href="/orders/orders.html">الطلبات</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>تواصل معنا</h4>
                    <div class="contact-info">
                        <p><i class="fas fa-phone"></i> +966 123 456 789</p>
                        <p><i class="fas fa-envelope"></i> info@mystore.com</p>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 متجري. جميع الحقوق محفوظة.</p>
            </div>
        </div>
    </footer>

    <script>
        // بيانات المنتجات التجريبية
        const products = [
            {
                id: 1,
                name: 'جهاز كمبيوتر محمول HP',
                price: 2500,
                category: 'electronics',
                image: 'https://images.unsplash.com/photo-1496181133206-80ce9b88a853?w=300&h=200&fit=crop',
                description: 'جهاز كمبيوتر محمول عالي الأداء مناسب للعمل والألعاب'
            },
            {
                id: 2,
                name: 'قميص قطني أزرق',
                price: 85,
                category: 'clothing',
                image: 'https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?w=300&h=200&fit=crop',
                description: 'قميص قطني عالي الجودة ومريح للارتداء اليومي'
            },
            {
                id: 3,
                name: 'كتاب تعلم البرمجة',
                price: 120,
                category: 'books',
                image: 'https://images.unsplash.com/photo-1544716278-ca5e3f4abd8c?w=300&h=200&fit=crop',
                description: 'كتاب شامل لتعلم البرمجة من الصفر إلى الاحتراف'
            },
            {
                id: 4,
                name: 'هاتف ذكي سامسونج',
                price: 1800,
                category: 'electronics',
                image: 'https://images.unsplash.com/photo-1511707171634-5f897ff02aa9?w=300&h=200&fit=crop',
                description: 'هاتف ذكي بمواصفات عالية وأداء ممتاز'
            },
            {
                id: 5,
                name: 'فستان صيفي',
                price: 150,
                category: 'clothing',
                image: 'https://images.unsplash.com/photo-1595777457583-95e059d581b8?w=300&h=200&fit=crop',
                description: 'فستان صيفي أنيق ومريح'
            },
            {
                id: 6,
                name: 'مصباح طاولة LED',
                price: 95,
                category: 'home',
                image: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=300&h=200&fit=crop',
                description: 'مصباح طاولة بإضاءة LED قابلة للتعديل'
            }
        ];

        // دالة عرض المنتجات
        function displayProducts(productsToShow = products) {
            const container = document.getElementById('productsContainer');
            const loadingSpinner = document.getElementById('loading-spinner');
            const noProductsMsg = document.getElementById('no-products');
            
            if (!container) {
                console.error('لم يتم العثور على حاوية المنتجات');
                return;
            }

            // إخفاء رسالة "لا توجد منتجات" وإظهار اللودر
            if (noProductsMsg) noProductsMsg.style.display = 'none';
            if (loadingSpinner) loadingSpinner.style.display = 'block';

            // مسح المحتوى السابق
            container.innerHTML = '';

            // محاكاة وقت التحميل
            setTimeout(() => {
                // إخفاء اللودر
                if (loadingSpinner) loadingSpinner.style.display = 'none';

                if (productsToShow.length === 0) {
                    if (noProductsMsg) noProductsMsg.style.display = 'block';
                    return;
                }

                // عرض المنتجات
                productsToShow.forEach(product => {
                    const productCard = document.createElement('div');
                    productCard.className = 'product-card';
                    productCard.innerHTML = `
                        <div class="product-image">
                            <img src="${product.image}" alt="${product.name}" loading="lazy">
                            <div class="product-overlay">
                                <button class="quick-view-btn" onclick="viewProduct(${product.id})">
                                    <i class="fas fa-eye"></i> عرض سريع
                                </button>
                            </div>
                        </div>
                        <div class="product-info">
                            <h3 class="product-name">${product.name}</h3>
                            <p class="product-category">${getCategoryName(product.category)}</p>
                            <div class="product-price">
                                <span class="price">${product.price} جنيه</span>
                            </div>
                            <div class="product-actions">
                                <button class="add-to-cart-btn" onclick="addToCart(${product.id})">
                                    <i class="fas fa-cart-plus"></i> إضافة للسلة
                                </button>
                                <button class="wishlist-btn" onclick="toggleWishlist(${product.id})">
                                    <i class="far fa-heart"></i>
                                </button>
                            </div>
                        </div>
                    `;
                    container.appendChild(productCard);
                });

            }, 800);
        }

        // دالة ترجمة أسماء الفئات
        function getCategoryName(category) {
            const categoryNames = {
                'electronics': 'إلكترونيات',
                'clothing': 'ملابس',
                'books': 'كتب',
                'home': 'منزل وحديقة'
            };
            return categoryNames[category] || category;
        }

        // دالة إضافة للسلة (تجريبية)
        function addToCart(productId) {
            const product = products.find(p => p.id === productId);
            if (product) {
                alert(`تم إضافة "${product.name}" للسلة بنجاح!`);
                
                // تحديث عداد السلة
                const cartCount = document.getElementById('cart-count');
                if (cartCount) {
                    const currentCount = parseInt(cartCount.textContent) || 0;
                    cartCount.textContent = currentCount + 1;
                }
            }
        }

        // دالة المفضلة (تجريبية)
        function toggleWishlist(productId) {
            const product = products.find(p => p.id === productId);
            if (product) {
                alert(`تم إضافة "${product.name}" للمفضلة!`);
            }
        }

        // دالة عرض المنتج (تجريبية)
        function viewProduct(productId) {
            const product = products.find(p => p.id === productId);
            if (product) {
                alert(`عرض تفاصيل: ${product.name}\nالسعر: ${product.price} جنيه\nالوصف: ${product.description}`);
            }
        }

        // فلترة المنتجات
        function filterProducts() {
            const categoryFilter = document.getElementById('category-filter').value;
            const priceFilter = document.getElementById('price-filter').value;
            const searchInput = document.getElementById('search-input').value.toLowerCase();
            const sortFilter = document.getElementById('sort-filter').value;

            let filteredProducts = products.filter(product => {
                // فلتر الفئة
                const categoryMatch = !categoryFilter || product.category === categoryFilter;
                
                // فلتر السعر
                let priceMatch = true;
                if (priceFilter) {
                    if (priceFilter === '0-50') priceMatch = product.price < 50;
                    else if (priceFilter === '50-100') priceMatch = product.price >= 50 && product.price <= 100;
                    else if (priceFilter === '100-200') priceMatch = product.price >= 100 && product.price <= 200;
                    else if (priceFilter === '200+') priceMatch = product.price > 200;
                }
                
                // فلتر البحث
                const searchMatch = !searchInput || 
                    product.name.toLowerCase().includes(searchInput) ||
                    product.description.toLowerCase().includes(searchInput);

                return categoryMatch && priceMatch && searchMatch;
            });

            // ترتيب المنتجات
            if (sortFilter === 'price-low') {
                filteredProducts.sort((a, b) => a.price - b.price);
            } else if (sortFilter === 'price-high') {
                filteredProducts.sort((a, b) => b.price - a.price);
            } else if (sortFilter === 'name') {
                filteredProducts.sort((a, b) => a.name.localeCompare(b.name));
            }

            displayProducts(filteredProducts);
        }

        // إضافة مستمعي الأحداث للفلاتر
        document.addEventListener('DOMContentLoaded', function() {
            displayProducts();

            // فلاتر
            document.getElementById('category-filter').addEventListener('change', filterProducts);
            document.getElementById('price-filter').addEventListener('change', filterProducts);
            document.getElementById('sort-filter').addEventListener('change', filterProducts);
            document.getElementById('search-input').addEventListener('input', filterProducts);
            document.getElementById('search-btn').addEventListener('click', filterProducts);

            // البحث عند الضغط على Enter
            document.getElementById('search-input').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    filterProducts();
                }
            });
        });
    </script>
    <script src="/storage.js"></script>
    <script src="/app.js"></script>
    <script src="products.js"></script>
    
    
    
</body>